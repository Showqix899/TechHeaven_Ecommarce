{% extends "layout.html" %}

{% block title %}
 user list
{% endblock  %}

{% block content %}


<div class="d-grid w-100 col-lg-6 col-md-6 col-sm-12 p-5">

    <div><form class="d-flex" role="search" method="GET" action="{% url 'user_search'%}">
        {% csrf_token %}
        <input class="form-control me-2" type="search" placeholder="Search" aria-label="Search" value="{{ q }}" name="q"/>
        <button class="btn btn-outline-success" type="submit">Search</button>
      </form>
    </div>
    <hr>
    <div class="w-100 p-2">
      {% for user in users %}
  <div class="card mb-3 shadow-sm rounded-3">
    <div class="card-body d-flex justify-content-between align-items-center flex-wrap">

      <div>
        <h5 class="mb-1">{{ user.email }}</h5>
        <p class="mb-0 text-muted">
          <strong>Status:</strong> {{ user.is_active|yesno:"activated,not activated" }}<br>
          <strong>Role:</strong> {{ user.role }}
        </p>
      </div>

      <div class="btn-group mt-2 mt-sm-0">
        <a href="{% url 'update_user' user.id%}" class="btn btn-sm btn-outline-success">Update</a>
        <a href="{% url 'user_delete' user.id %}" class="btn btn-sm btn-outline-danger">Remove</a>
        <a href="{% url 'user_search' %}?q={{ user.email }}" class="btn btn-sm btn-outline-primary">Details</a>
      </div>

    </div>
  </div>
{% endfor %}

    </div>

</div>


{% endblock  %}